{% extends 'finance/base.html' %} {% block title %}Perfil - Finance
{% endblock%} {% block content %}
<!-- Página: Perfil do Usuário -->
<h1 class="page-title mb-4">Meu Perfil</h1>

<div class="row justify-content-center">
  <div class="col-md-8">
    <div class="card shadow">
      <div class="card-body">
        <!-- Título -->
        <h2 class="card-title mb-4">Editar Informações Pessoais</h2>

        <!-- Formulário -->
        <form method="post">
          <!-- Token CSRF -->
          {% csrf_token %}

          <!-- Campo: Nome -->
          <div class="mb-3">
            <label for="{{ form.first_name.id_for_label }}" class="form-label">
              <strong>Nome</strong>
            </label>
            {{ form.first_name }} {% if form.first_name.errors %}
            <div class="alert alert-danger mt-2">
              {{ form.first_name.errors }}
            </div>
            {% endif %}
          </div>

          <!-- Campo: Sobrenome -->
          <div class="mb-3">
            <label for="{{ form.last_name.id_for_label }}" class="form-label">
              <strong>Sobrenome</strong>
            </label>
            {{ form.last_name }} {% if form.last_name.errors %}
            <div class="alert alert-danger mt-2">
              {{ form.last_name.errors }}
            </div>
            {% endif %}
          </div>

          <!-- Campo: Email -->
          <div class="mb-4">
            <label for="{{ form.email.id_for_label }}" class="form-label">
              <strong>Email</strong>
            </label>
            {{ form.email }} {% if form.email.errors %}
            <div class="alert alert-danger mt-2">{{ form.email.errors }}</div>
            {% endif %}
          </div>

          <!-- ========== INFORMAÇÕES DO USUÁRIO ========== -->
          <div class="card bg-light mb-4">
            <div class="card-body">
              <h5 class="card-title">Informações da Conta</h5>
              <p><strong>Usuário:</strong> {{ user.username }}</p>
              <p>
                <strong>Data de Cadastro:</strong> 
                  {% if user.date_joined %}
                  {{ user.date_joined|date:"d/m/Y H:i" }}
                  {% else %}
                      Não disponível
                  {% endif %}
              </p>
              <p class="mb-0">
                <strong>Último Acesso:</strong>
                  {% if user.last_login %}
                  {{ user.last_login|date:"d/m/Y H:i" }}
                  {% else %}
                      Nunca acessou
                  {% endif %}
              </p>
            </div>
          </div>

          <!-- ========== BOTÕES ========== -->
          <div class="d-grid gap-2 d-md-flex justify-content-md-end">
            <!-- Botão: Cancelar -->
            <a href="{% url 'dashboard' %}" class="btn btn-secondary">
              Cancelar
            </a>

            <!-- Botão: Salvar -->
            <button type="submit" class="btn btn-primary btn-lg">
              Salvar Alterações
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}
